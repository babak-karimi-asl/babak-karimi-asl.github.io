var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function u(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function r(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function m(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t){return""===t?null:+t}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let b;function x(t){b=t}function v(){const t=function(){if(!b)throw new Error("Function called outside component initialization");return b}();return(n,e)=>{const i=t.$$.callbacks[n];if(i){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);i.slice().forEach((n=>{n.call(t,o)}))}}}const I=[],y=[],M=[],k=[],_=Promise.resolve();let S=!1;function w(t){M.push(t)}let E=!1;const C=new Set;function N(){if(!E){E=!0;do{for(let t=0;t<I.length;t+=1){const n=I[t];x(n),O(n.$$)}for(x(null),I.length=0;y.length;)y.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];C.has(n)||(C.add(n),n())}M.length=0}while(I.length);for(;k.length;)k.pop()();S=!1,E=!1,C.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(w)}}const D=new Set;let T;function j(t,n){t&&t.i&&(D.delete(t),t.i(n))}function A(t,n,e,i){if(t&&t.o){if(D.has(t))return;D.add(t),T.c.push((()=>{D.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}}function J(t){t&&t.c()}function L(t,n,i){const{fragment:c,on_mount:l,on_destroy:s,after_update:r}=t.$$;c&&c.m(n,i),w((()=>{const n=l.map(e).filter(u);s?s.push(...n):o(n),t.$$.on_mount=[]})),r.forEach(w)}function B(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(t,n){-1===t.$$.dirty[0]&&(I.push(t),S||(S=!0,_.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function q(n,e,u,c,l,s,a=[-1]){const d=b;x(n);const f=e.props||{},m=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:i(),dirty:a,skip_bound:!1};let p=!1;if(m.ctx=u?u(n,f,((t,e,...i)=>{const o=i.length?i[0]:e;return m.ctx&&l(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),p&&F(n,t)),e})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(r)}else m.fragment&&m.fragment.c();e.intro&&j(n.$$.fragment),L(n,e.target,e.anchor),N()}x(d)}class z{$destroy(){B(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(n){let e,i,u,c,h,$,b,x,v,I,y,M,k,_,S,w,E,C,N,O,D,T,j,A,J=100*n[4]+"";return{c(){e=a("div"),i=a("div"),u=a("div"),c=d(n[0]),h=f(),$=a("div"),b=d(n[3]),x=f(),v=a("div"),I=d(n[1]),y=d("/"),M=d(n[2]),k=f(),_=a("div"),S=a("button"),S.textContent="-",w=f(),E=a("button"),E.textContent="+",C=f(),N=a("progress"),O=d(J),D=d("%"),p(u,"class","name"),p($,"class","step"),p(v,"class","delimiter"),p(S,"class","dec-button"),p(E,"class","inc-button"),p(_,"class","buttons"),p(i,"class","upper"),p(N,"class","prg"),N.value=T=100*n[4],p(N,"max","100"),p(e,"class","item")},m(t,o){s(t,e,o),l(e,i),l(i,u),l(u,c),l(i,h),l(i,$),l($,b),l(i,x),l(i,v),l(v,I),l(v,y),l(v,M),l(i,k),l(i,_),l(_,S),l(_,w),l(_,E),l(e,C),l(e,N),l(N,O),l(N,D),j||(A=[m(u,"click",n[6]),m(S,"click",n[8]),m(E,"click",n[9])],j=!0)},p(t,[n]){1&n&&g(c,t[0]),8&n&&g(b,t[3]),2&n&&g(I,t[1]),4&n&&g(M,t[2]),16&n&&J!==(J=100*t[4]+"")&&g(O,J),16&n&&T!==(T=100*t[4])&&(N.value=T)},i:t,o:t,d(t){t&&r(e),j=!1,o(A)}}}function P(t,n,e){const i=v();let{name:o}=n,{timeSpendInMinutes:u}=n,{timeInMinutes:c}=n,{step:l}=n,{index:s}=n;function r(t){i("message",{index:s,command:{name:"modifySpendTime",value:t}})}let a;return t.$$set=t=>{"name"in t&&e(0,o=t.name),"timeSpendInMinutes"in t&&e(1,u=t.timeSpendInMinutes),"timeInMinutes"in t&&e(2,c=t.timeInMinutes),"step"in t&&e(3,l=t.step),"index"in t&&e(7,s=t.index)},t.$$.update=()=>{6&t.$$.dirty&&e(4,a=u/c)},[o,u,c,l,a,r,function(){i("message",{index:s,command:{name:"edit"}})},s,()=>r(-1*l),()=>r(l)]}class Y extends z{constructor(t){super(),q(this,t,P,H,c,{name:0,timeSpendInMinutes:1,timeInMinutes:2,step:3,index:7})}}function G(t){return t>9?t:"0"+t}function K(t=null,n=null){let e=null;return e=t?new Date(t):new Date,n&&e.setDate(e.getDate()+n),e.getFullYear()+"-"+G(parseInt(e.getMonth())+1)+"-"+G(e.getDate())}function Q(t,n){localStorage.setItem(t,JSON.stringify(n))}function R(t,n=null){let e=localStorage.getItem(t);return e?JSON.parse(e):n?(Q(t,n),i=n,JSON.parse(JSON.stringify(i))):null;var i}function U(t,n,e){const i=t.slice();return i[22]=n[e],i[24]=e,i}function V(n){let e,i,o;return{c(){e=a("button"),e.textContent="-"},m(t,u){s(t,e,u),i||(o=m(e,"click",n[11]),i=!0)},p:t,d(t){t&&r(e),i=!1,o()}}}function W(n){let e,i,o;return{c(){e=a("button"),e.textContent="+"},m(t,u){s(t,e,u),i||(o=m(e,"click",n[13]),i=!0)},p:t,d(t){t&&r(e),i=!1,o()}}}function X(n){let e,i,o;return{c(){e=a("button"),e.textContent="DELETE",p(e,"class","delete-button")},m(t,u){s(t,e,u),i||(o=m(e,"click",n[10]),i=!0)},p:t,d(t){t&&r(e),i=!1,o()}}}function Z(n){let e,i,o;return{c(){e=a("button"),e.textContent="+",p(e,"class","add-button")},m(t,u){s(t,e,u),i||(o=m(e,"click",n[7]),i=!0)},p:t,d(t){t&&r(e),i=!1,o()}}}function tt(n){let e,i,u,c,l;return{c(){e=a("button"),e.textContent="x",i=f(),u=a("button"),u.textContent="v",p(e,"class","cancel-button"),p(u,"class","confirm-button")},m(t,o){s(t,e,o),s(t,i,o),s(t,u,o),c||(l=[m(e,"click",n[8]),m(u,"click",n[9])],c=!0)},p:t,d(t){t&&r(e),t&&r(i),t&&r(u),c=!1,o(l)}}}function nt(t){let e,i;const o=[t[22],{index:t[24]}];let u={};for(let t=0;t<o.length;t+=1)u=n(u,o[t]);return e=new Y({props:u}),e.$on("message",t[6]),{c(){J(e.$$.fragment)},m(t,n){L(e,t,n),i=!0},p(t,n){const i=8&n?function(t,n){const e={},i={},o={$$scope:1};let u=t.length;for(;u--;){const c=t[u],l=n[u];if(l){for(const t in c)t in l||(i[t]=1);for(const t in l)o[t]||(e[t]=l[t],o[t]=1);t[u]=l}else for(const t in c)o[t]=1}for(const t in i)t in e||(e[t]=void 0);return e}(o,[(u=t[22],"object"==typeof u&&null!==u?u:{}),o[1]]):{};var u;e.$set(i)},i(t){i||(j(e.$$.fragment,t),i=!0)},o(t){A(e.$$.fragment,t),i=!1},d(t){B(e,t)}}}function et(t){let n,e,i,u,c,b,x,v,I,y,M,k,_,S,w,E,C,N,O,D,J,L,B,F="edit"!==t[1]&&V(t),q="edit"!==t[1]&&W(t),z="edit"===t[1]&&X(t),H="add"===t[1]&&Z(t),P="edit"===t[1]&&tt(t),Y=t[3],G=[];for(let n=0;n<Y.length;n+=1)G[n]=nt(U(t,Y,n));const K=t=>A(G[t],1,1,(()=>{G[t]=null}));return{c(){n=a("section"),e=a("div"),F&&F.c(),i=f(),u=a("span"),c=d(t[2]),b=f(),q&&q.c(),x=f(),v=a("h1"),v.textContent="Habits",I=f(),z&&z.c(),y=f(),M=a("div"),k=a("input"),_=f(),S=a("input"),w=f(),E=a("input"),C=f(),H&&H.c(),N=f(),P&&P.c(),O=f(),D=a("div");for(let t=0;t<G.length;t+=1)G[t].c();p(e,"class","date"),p(k,"type","text"),p(k,"placeholder","name"),p(S,"type","number"),p(S,"placeholder","step"),p(E,"type","number"),p(E,"placeholder","minute"),p(M,"class","new-form"),p(D,"class","list"),p(n,"class","habits")},m(o,r){s(o,n,r),l(n,e),F&&F.m(e,null),l(e,i),l(e,u),l(u,c),l(e,b),q&&q.m(e,null),l(n,x),l(n,v),l(n,I),z&&z.m(n,null),l(n,y),l(n,M),l(M,k),$(k,t[0].name),l(M,_),l(M,S),$(S,t[0].step),l(M,w),l(M,E),$(E,t[0].timeInMinutes),l(M,C),H&&H.m(M,null),l(M,N),P&&P.m(M,null),l(n,O),l(n,D);for(let t=0;t<G.length;t+=1)G[t].m(D,null);J=!0,L||(B=[m(u,"click",t[12]),m(k,"input",t[14]),m(S,"input",t[15]),m(E,"input",t[16])],L=!0)},p(t,[u]){if("edit"!==t[1]?F?F.p(t,u):(F=V(t),F.c(),F.m(e,i)):F&&(F.d(1),F=null),(!J||4&u)&&g(c,t[2]),"edit"!==t[1]?q?q.p(t,u):(q=W(t),q.c(),q.m(e,null)):q&&(q.d(1),q=null),"edit"===t[1]?z?z.p(t,u):(z=X(t),z.c(),z.m(n,y)):z&&(z.d(1),z=null),1&u&&k.value!==t[0].name&&$(k,t[0].name),1&u&&h(S.value)!==t[0].step&&$(S,t[0].step),1&u&&h(E.value)!==t[0].timeInMinutes&&$(E,t[0].timeInMinutes),"add"===t[1]?H?H.p(t,u):(H=Z(t),H.c(),H.m(M,N)):H&&(H.d(1),H=null),"edit"===t[1]?P?P.p(t,u):(P=tt(t),P.c(),P.m(M,null)):P&&(P.d(1),P=null),72&u){let n;for(Y=t[3],n=0;n<Y.length;n+=1){const e=U(t,Y,n);G[n]?(G[n].p(e,u),j(G[n],1)):(G[n]=nt(e),G[n].c(),j(G[n],1),G[n].m(D,null))}for(T={r:0,c:[],p:T},n=Y.length;n<G.length;n+=1)K(n);T.r||o(T.c),T=T.p}},i(t){if(!J){for(let t=0;t<Y.length;t+=1)j(G[t]);J=!0}},o(t){G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)A(G[t]);J=!1},d(t){t&&r(n),F&&F.d(),q&&q.d(),z&&z.d(),H&&H.d(),P&&P.d(),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(G,t),L=!1,o(B)}}}const it="habits-stats-",ot="habits-list";function ut(t,n,e){let i={},o="add",u=0,c=K(null,u),l=[];function s(t){u+=t,e(2,c=K(null,u)),e(3,l=m())}function r(){u=0,e(2,c=K(null,u)),e(3,l=m())}function a(){e(0,i={name:"",timeInMinutes:"",index:-1,step:""})}function d(t){let n=t.map((t=>({name:t.name,timeInMinutes:t.timeInMinutes,timeSpendInMinutes:0,step:t.step})));Q(ot,n)}function f(t){Q(it+c,t)}function m(){let t=R(it+c,[]);return(!t||t.length<=0)&&(t=R(ot,[]),t||(t=[])),t}function p(){e(1,o="add"),a()}a(),l=m();return[i,o,c,l,s,r,function(t){const n=t.detail.index,u=t.detail.command.name,c=t.detail.command.value;switch(u){case"modifySpendTime":e(3,l[n].timeSpendInMinutes+=c,l),f(l);break;case"edit":e(1,o="edit"),e(0,i.name=l[n].name,i),e(0,i.timeInMinutes=l[n].timeInMinutes,i),e(0,i.step=l[n].step,i),e(0,i.index=n,i)}},function(){return l.filter((t=>t.name===i.name)).length?(alert("habit exists"),0):!i.name||i.name.length<=0?(alert("please enter a name"),0):(i.timeInMinutes<1&&e(0,i.timeInMinutes=1,i),i.step<1&&e(0,i.step=1,i),e(3,l=[...l,{name:i.name,timeInMinutes:i.timeInMinutes,timeSpendInMinutes:0,step:i.step}]),f(l),d(l),void a())},p,function(){e(3,l[i.index].name=i.name,l),e(3,l[i.index].timeInMinutes=i.timeInMinutes,l),e(3,l[i.index].step=i.step,l),f(l),d(l),p()},function(){if(confirm("delete habit?")){let t=l[i.index].name;e(3,l=l.filter((n=>n.name!==t))),f(l),d(l),p()}},()=>s(-1),()=>"edit"!==o?r():[],()=>s(1),function(){i.name=this.value,e(0,i)},function(){i.step=h(this.value),e(0,i)},function(){i.timeInMinutes=h(this.value),e(0,i)}]}class ct extends z{constructor(t){super(),q(this,t,ut,et,c,{})}}function lt(n){let e,i,o;return i=new ct({}),{c(){e=a("main"),J(i.$$.fragment)},m(t,n){s(t,e,n),L(i,e,null),o=!0},p:t,i(t){o||(j(i.$$.fragment,t),o=!0)},o(t){A(i.$$.fragment,t),o=!1},d(t){t&&r(e),B(i)}}}return new class extends z{constructor(t){super(),q(this,t,null,lt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
